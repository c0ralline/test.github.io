# APB协议简介

APB作为数据传输接口协议，常用于低速系统，在DDR中用于配置外围寄存器

### apb信号端口

| name  | direction | desctiption |
| --- | --- | --- |
| pclk  | I | apb时钟|
| prst_n | I | 复位信号，低有效 |
| pwrite | I | m->s high=写，low=读 |
| psel | I | m->s select信号，high=选中 |
| penable | I | m->s enable信号，high=开始读写 |
| paddr | I | m->s 地址信号，指示读写访问的地址 |
| pwdata | I | m->s 写数据信号 |
| prdata | O | s->m 读回数据信号 |
| pready | I | s->m slave返回ready信号，high=传输完成 |
| pslverr | O | s->m slave检测到错误 |

### apb时序

#### write 2cycle

T1 setup
 - psel=1,pwrite=1,penable=0,准备好paddr和pwdata

T2 access
 - penable=1
 - if pready=0, 说明slave没有准备好，继续等待
 - if pready=1, 开始传输
